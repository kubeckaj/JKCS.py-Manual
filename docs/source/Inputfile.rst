==========
Input file
==========

Configurational sampling with JKCS starts by making ``input.txt``, which can be generated by JKCS0_copy (see next chapter). 
This file contains the most import definitions for sampling the desired clusters in the current directory. Example:

.. code:: bash

   ######################################################
   ## SUPERCOMPUTER PARAMETERS                         ##
   ## Number of Combinations - NoC                     ##
   ######################################################
   ## MAXTASKS CPU NODES REQ.TIME  PARTITION MEMPERCPU ##
   ======================================================
   ABC   NoC     1    1   72:00:00   small      4000mb
   XTB   NoC     1    1   72:00:00   small      4000mb
   G16   100     8    1   72:00:00   small      4000mb
   ORCA  100     8    1   72:00:00   small      4000mb
   CC    100     8    1   330:00:00  longrun    4000mb
   -loc  1       1    1   -          -          4000mb
   ======================================================

   #####################################
   ## SYSTEM CHARGE AND MULTIPLICITY  ##
   #####################################
   TotalCharge        0  
   TotalMultiplicity  1  

   ###################################################################
   ## COMPOSITION:                                                  ##
   ## e.g.: 1_1_2 1_2_1 1_3                                         ##                  
   ## e.g.: 1_3-6             = 1_3 1_4 1_5 1_6                     ##
   ## e.g.: (1,3,5)_1         = 1_1 3_5 5_1                         ##
   ## e.g.: (2,4)_1-3_1       = 2_1_1 4_1_1 2_2_1 4_2_1 2_3_1 4_3_1 ## 
   ## e.g.: 1_1_F2            = 1_1_0-2 #protons# to fulfill charge ## 
   ###################################################################
   Composition     1_1  2_2

   ######################################
   ## STRUCTURES OF BUILDING MONOMERS: ##
   ######################################
   # name | q | path 
     sa     0   /projappl/hvehkama/kubeckaj/Apps/JKCS2.1/JKCSx/../TOOLS/STRUCTURES/JACOB/sa.xyz
     sa     0   /projappl/hvehkama/kubeckaj/Apps/JKCS2.1/JKCSx/../TOOLS/STRUCTURES/JACOB/h2so4_cis.xyz
     sa    -1   /projappl/hvehkama/kubeckaj/Apps/JKCS2.1/JKCSx/../TOOLS/STRUCTURES/ABC/hso4.xyz
     sa    -2   /projappl/hvehkama/kubeckaj/Apps/JKCS2.1/JKCSx/../TOOLS/STRUCTURES/ABC/so4.xyz
     am     0   /projappl/hvehkama/kubeckaj/Apps/JKCS2.1/JKCSx/../TOOLS/STRUCTURES/ABC/nh3.xyz
     am     1   /projappl/hvehkama/kubeckaj/Apps/JKCS2.1/JKCSx/../TOOLS/STRUCTURES/ABC/nh4.xyz

``input.txt`` is divided into four parts:
  Supercomputer parameters
  System charge and multiplicity
  Composition
  Structure of building monomers

.. contents::

Computer cluster parameters
---------------------------

In this section, the parameters for running JKCS on a supercomputer are defined. JKCS communicates
with the 3rd-party programs ABCluster, XTB, Gaussian16 and ORCA. For each of these
programs, the following parameters need to be specified:
  Maximum number of tasks that can run in parallel
  Number of CPUs
  Number of nodes
  The requested wall time
  The name of the supercomputer partition
  The memory per CPU
The -loc program is used for computing on a local computer. For almost all of them, you can use
variables NoC and M to define the parameter as a function of ‘Number Of Combinations’ or ‘Number
of Molecules’.
When calling one of the JKCS scripts (e.g. JKCS3_run), the supercomputer parameters for running
that script can also be specified as additional arguments to the script. We could, for instance,
call ‘JKCS3_run XTB -maxtasks 20 -mem 8g’ to change the maximum number of tasks and memory
per CPU from what is written in the input.txt file. These commands will be further explained in the
‘Supercomputer commands’ section of this manual.
The default table for supercomputer parameters can be changed in ~/.JKCSusersetup.txt.

Cluster charge/multiplicity
---------------------------

This section consists of two parameters that need to be set: the total charge and total multiplicity
of the cluster(s). The multiplicity is equal to the number of unpaired electrons plus one (M = 2S+1).
